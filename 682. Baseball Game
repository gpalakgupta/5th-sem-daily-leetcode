class Solution {
    public int calPoints(String[] operations) {
        int n = operations.length;
        Stack<Integer> st = new Stack();
        for(int i = 0; i<n; i++){
            String str = operations[i];
            if(!st.isEmpty() && str.equals("C")){
                st.pop();
            }
            else if(!st.isEmpty() && str.equals("D")){
                st.push(st.peek()*2);
            }
            else if(st.size() > 1 && str.equals("+")){
                int x1 = st.pop();
                int x2 = st.pop();
                st.push(x2);
                st.push(x1);
                st.push(x1+x2);
            }
            else{
                 st.push(Integer.valueOf(str)); 
            }
        }
         int ans = 0;
         while(!st.isEmpty()){
            ans+=st.peek();
            st.pop();
         }
         return ans;
    }
}
