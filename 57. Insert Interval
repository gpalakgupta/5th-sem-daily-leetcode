class Solution {
    public int[][] insert(int[][] intervals, int[] newInterval) {
        List<int[]> ans = new ArrayList<>(Arrays.asList(intervals));
        ans.add(newInterval);
        Collections.sort(ans,(a,b)->{
            if(a[0] != b[0]){
                return Integer.compare(a[0],b[0]);
            }
            else{
                return Integer.compare(a[1],b[1]);
            }
        });

        List<List<Integer>> res = new ArrayList<>();
        res.add(Arrays.asList(ans.get(0)[0],ans.get(0)[1]));
        for(int i = 1; i<ans.size(); i++){
            if(ans.get(i)[0] <= res.get(res.size()-1).get(1)){
                int n = res.size()-1;
                int value = Math.max(ans.get(i)[1],res.get(n).get(1));
                res.get(n).set(1,value);
            }
            else{
                res.add(Arrays.asList(ans.get(i)[0],ans.get(i)[1]));
            }
        }
        int[][] arr = new int[res.size()][2];
        for(int i = 0; i<res.size(); i++){
            arr[i][0] = res.get(i).get(0);
            arr[i][1] = res.get(i).get(1);
        }
        return arr;
    }
}
